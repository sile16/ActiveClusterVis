<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Controller State Transition</title>
</head>
<body>

<button onclick="handleAction('CT0', 'fail')">Fail CT0</button>
<button onclick="handleAction('CT0', 'recover')">Recover CT0</button>
<button onclick="handleAction('CT0', 'promote')">Promote CT0</button>
<button onclick="handleAction('CT1', 'fail')">Fail CT1</button>
<button onclick="handleAction('CT1', 'recover')">Recover CT1</button>
<button onclick="handleAction('CT1', 'promote')">Promote CT1</button>
<button onclick="flashArray.handleAction('step');updateView();">Step</button>

<p id="CT0State">CT0 State: Primary</p>
<p id="CT1State">CT1 State: Secondary</p>

<script src="network.js"></script>
<script src="fa.js"></script>
<script src="vmware.js"></script>

<script>
  // Create a new FlashArray instance
  const flashArray = new FlashArray('Array1');

  function handleAction(controllerName, action) {
    flashArray.handleControllerEvent(controllerName, action);
    updateView();
  }

  function updateView() {
    document.getElementById('CT0State').textContent = 'CT0 State: ' + flashArray.controllers[0].state;
    document.getElementById('CT1State').textContent = 'CT1 State: ' + flashArray.controllers[1].state;
  }

  updateView();
</script>

</body>
</html>